WARNING 2025-02-16 20:46:57,555 log Unauthorized: /api/token/
WARNING 2025-02-16 20:46:57,555 basehttp "POST /api/token/ HTTP/1.1" 401 63
WARNING 2025-02-16 20:46:58,638 log Unauthorized: /api/token/
WARNING 2025-02-16 20:46:58,638 basehttp "POST /api/token/ HTTP/1.1" 401 63
WARNING 2025-02-16 20:46:59,685 log Unauthorized: /api/token/
WARNING 2025-02-16 20:46:59,686 basehttp "POST /api/token/ HTTP/1.1" 401 63
WARNING 2025-02-16 20:47:00,860 log Unauthorized: /api/token/
WARNING 2025-02-16 20:47:00,861 basehttp "POST /api/token/ HTTP/1.1" 401 63
WARNING 2025-02-16 20:47:01,918 log Unauthorized: /api/token/
WARNING 2025-02-16 20:47:01,918 basehttp "POST /api/token/ HTTP/1.1" 401 63
WARNING 2025-02-16 20:47:02,451 log Too Many Requests: /api/token/
WARNING 2025-02-16 20:47:02,453 basehttp "POST /api/token/ HTTP/1.1" 429 69
WARNING 2025-02-16 20:47:03,542 log Too Many Requests: /api/token/
WARNING 2025-02-16 20:47:03,542 basehttp "POST /api/token/ HTTP/1.1" 429 69
WARNING 2025-02-18 18:30:30,840 log Not Found: /favicon.ico
WARNING 2025-02-18 18:30:30,842 basehttp "GET /favicon.ico HTTP/1.1" 404 3806
ERROR 2025-02-18 19:53:34,804 log Internal Server Error: /api/register/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 192, in _get_response
    wrapped_callback = self.make_view_atomic(callback)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 348, in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'ATOMIC_REQUESTS'
ERROR 2025-02-18 19:54:25,278 log Internal Server Error: /api/register/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 192, in _get_response
    wrapped_callback = self.make_view_atomic(callback)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 348, in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'ATOMIC_REQUESTS'
ERROR 2025-02-18 19:59:53,546 log Internal Server Error: /api/register/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 192, in _get_response
    wrapped_callback = self.make_view_atomic(callback)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 348, in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'ATOMIC_REQUESTS'
ERROR 2025-02-18 19:59:54,054 log Internal Server Error: /api/token/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 192, in _get_response
    wrapped_callback = self.make_view_atomic(callback)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 348, in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'ATOMIC_REQUESTS'
ERROR 2025-02-18 19:59:54,392 log Internal Server Error: /api/logout/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 192, in _get_response
    wrapped_callback = self.make_view_atomic(callback)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 348, in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'ATOMIC_REQUESTS'
ERROR 2025-02-18 20:22:24,839 log Internal Server Error: /api/register/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 192, in _get_response
    wrapped_callback = self.make_view_atomic(callback)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 348, in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'ATOMIC_REQUESTS'
ERROR 2025-02-18 20:22:25,401 log Internal Server Error: /api/token/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 192, in _get_response
    wrapped_callback = self.make_view_atomic(callback)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 348, in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'ATOMIC_REQUESTS'
ERROR 2025-02-18 20:22:25,729 log Internal Server Error: /api/logout/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 192, in _get_response
    wrapped_callback = self.make_view_atomic(callback)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 348, in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'ATOMIC_REQUESTS'
ERROR 2025-02-18 20:23:12,350 log Internal Server Error: /api/register/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 192, in _get_response
    wrapped_callback = self.make_view_atomic(callback)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 348, in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'ATOMIC_REQUESTS'
ERROR 2025-02-18 20:23:12,780 log Internal Server Error: /api/token/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 192, in _get_response
    wrapped_callback = self.make_view_atomic(callback)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 348, in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'ATOMIC_REQUESTS'
ERROR 2025-02-18 20:23:13,128 log Internal Server Error: /api/logout/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 192, in _get_response
    wrapped_callback = self.make_view_atomic(callback)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 348, in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'ATOMIC_REQUESTS'
ERROR 2025-02-18 20:27:43,527 log Internal Server Error: /api/register/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 373, in fields
    fields[key] = value
    ~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\utils\serializer_helpers.py", line 167, in __setitem__
    field.bind(field_name=key, parent=self.serializer)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\fields.py", line 358, in bind
    assert self.source != field_name, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: It is redundant to specify `source='is_admin'` on field 'BooleanField' in serializer 'UserSerializer', because it is the same as the field name. Remove the `source` keyword argument.
WARNING 2025-02-18 20:27:44,693 log Bad Request: /api/logout/
WARNING 2025-02-18 20:31:34,317 log Not Found: /register/
ERROR 2025-02-18 20:48:44,333 log Internal Server Error: /api/register/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 373, in fields
    fields[key] = value
    ~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\utils\serializer_helpers.py", line 167, in __setitem__
    field.bind(field_name=key, parent=self.serializer)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\fields.py", line 358, in bind
    assert self.source != field_name, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: It is redundant to specify `source='is_admin'` on field 'BooleanField' in serializer 'UserSerializer', because it is the same as the field name. Remove the `source` keyword argument.
WARNING 2025-02-18 20:48:45,418 log Bad Request: /api/logout/
ERROR 2025-02-18 20:48:53,343 log Internal Server Error: /api/register/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 373, in fields
    fields[key] = value
    ~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\utils\serializer_helpers.py", line 167, in __setitem__
    field.bind(field_name=key, parent=self.serializer)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\fields.py", line 358, in bind
    assert self.source != field_name, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: It is redundant to specify `source='is_admin'` on field 'BooleanField' in serializer 'UserSerializer', because it is the same as the field name. Remove the `source` keyword argument.
WARNING 2025-02-18 20:48:54,423 log Bad Request: /api/logout/
WARNING 2025-02-18 21:10:38,380 log Unauthorized: /api/logout/
WARNING 2025-02-18 21:13:53,496 log Bad Request: /api/logout/
WARNING 2025-02-18 22:18:29,412 log Unauthorized: /api/products/
WARNING 2025-02-19 10:35:04,899 log Unauthorized: /api/products/
ERROR 2025-02-19 11:48:16,689 log Internal Server Error: /api/products/29/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 292, in patch
    return self.partial_update(request, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\store\views.py", line 61, in get_queryset
    return Product.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: barcode, cartitem, category, category_id, description, id, image, invoiceitem, invoicereturn, name, orderitem, price, stock_info, stockmovement
ERROR 2025-02-19 11:48:17,115 log Internal Server Error: /api/products/30/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 295, in delete
    return self.destroy(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 90, in destroy
    instance = self.get_object()
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\store\views.py", line 61, in get_queryset
    return Product.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: barcode, cartitem, category, category_id, description, id, image, invoiceitem, invoicereturn, name, orderitem, price, stock_info, stockmovement
ERROR 2025-02-19 11:48:33,625 log Internal Server Error: /api/products/35/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 292, in patch
    return self.partial_update(request, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\store\views.py", line 61, in get_queryset
    return Product.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: barcode, cartitem, category, category_id, description, id, image, invoiceitem, invoicereturn, name, orderitem, price, stock_info, stockmovement
ERROR 2025-02-19 11:48:34,041 log Internal Server Error: /api/products/36/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 295, in delete
    return self.destroy(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 90, in destroy
    instance = self.get_object()
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\store\views.py", line 61, in get_queryset
    return Product.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: barcode, cartitem, category, category_id, description, id, image, invoiceitem, invoicereturn, name, orderitem, price, stock_info, stockmovement
ERROR 2025-02-19 11:52:53,369 log Internal Server Error: /api/products/41/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 292, in patch
    return self.partial_update(request, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\store\views.py", line 61, in get_queryset
    return Product.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: barcode, cartitem, category, category_id, description, id, image, invoiceitem, invoicereturn, name, orderitem, price, stock_info, stockmovement
ERROR 2025-02-19 11:52:54,014 log Internal Server Error: /api/products/42/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 295, in delete
    return self.destroy(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\mixins.py", line 90, in destroy
    instance = self.get_object()
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 87, in get_object
    queryset = self.filter_queryset(self.get_queryset())
                                    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\store\views.py", line 61, in get_queryset
    return Product.objects.filter(user=user)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: barcode, cartitem, category, category_id, description, id, image, invoiceitem, invoicereturn, name, orderitem, price, stock_info, stockmovement
WARNING 2025-02-19 11:58:55,306 log Not Found: /api/products/48/
WARNING 2025-02-19 11:58:55,699 log Not Found: /api/products/49/
WARNING 2025-02-19 12:07:03,265 log Forbidden: /api/low-stock/
WARNING 2025-02-21 14:34:00,432 log Unauthorized: /api/inventory/stock/
WARNING 2025-02-21 14:34:00,732 log Not Found: /api/inventory/stock/188/
WARNING 2025-02-21 14:34:00,743 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 14:34:00,752 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 14:34:00,765 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 14:38:06,717 log Unauthorized: /api/inventory/stock/
WARNING 2025-02-21 14:38:06,742 log Not Found: /api/inventory/stock/201/
WARNING 2025-02-21 14:38:06,749 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 14:38:06,758 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 14:38:06,766 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 18:11:45,200 log Not Found: /api/inventory/stock/244/
WARNING 2025-02-21 18:11:45,499 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 18:11:45,798 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 18:15:10,212 log Not Found: /api/inventory/stock/256/
WARNING 2025-02-21 18:15:10,509 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 18:15:10,808 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 18:22:45,135 log Not Found: /api/inventory/stock/267/
WARNING 2025-02-21 18:22:45,453 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 18:22:45,751 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 18:33:19,936 log Not Found: /api/inventory/stock/270/
WARNING 2025-02-21 18:33:20,235 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 18:33:20,537 log Not Found: /api/inventory/stock-movements/
WARNING 2025-02-21 18:44:08,992 log Not Found: /api/inventory/stock/285/
WARNING 2025-02-21 19:07:00,616 log Not Found: /api/inventory/stock/368/
WARNING 2025-02-21 19:07:31,347 log Not Found: /api/inventory/stock/370/
WARNING 2025-02-21 19:07:31,724 log Not Found: /api/inventory/sales-points/386/
WARNING 2025-02-22 18:16:23,919 log Not Found: /api/inventory/stock/382/
WARNING 2025-02-22 18:16:24,330 log Not Found: /api/inventory/sales-points/404/
WARNING 2025-02-22 18:45:45,996 log Not Found: /orders/create/
ERROR 2025-02-22 18:53:12,314 log Internal Server Error: /api/orders/create/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: :   NULL   "sales_point_id"  "inventory_stockmovement"   NOT NULL
DETAIL:     (158, -3, 2025-02-22 21:53:12.281577+00, Reserva para pedido 39, 612, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\orders\views.py", line 119, in create
    StockMovement.objects.bulk_create(stock_movements)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1875, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<5 lines>...
        returning_fields=self.model._meta.db_returning_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: :   NULL   "sales_point_id"  "inventory_stockmovement"   NOT NULL
DETAIL:     (158, -3, 2025-02-22 21:53:12.281577+00, Reserva para pedido 39, 612, null).

ERROR 2025-02-22 19:02:25,837 log Internal Server Error: /api/orders/create/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: :   NULL   "sales_point_id"  "inventory_stockmovement"   NOT NULL
DETAIL:     (159, -3, 2025-02-22 22:02:25.814804+00, Reserva para pedido 54, 625, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\orders\views.py", line 119, in create
    StockMovement.objects.bulk_create(stock_movements)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1875, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<5 lines>...
        returning_fields=self.model._meta.db_returning_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: :   NULL   "sales_point_id"  "inventory_stockmovement"   NOT NULL
DETAIL:     (159, -3, 2025-02-22 22:02:25.814804+00, Reserva para pedido 54, 625, null).

ERROR 2025-02-22 19:04:32,221 log Internal Server Error: /api/orders/create/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: :   NULL   "sales_point_id"  "inventory_stockmovement"   NOT NULL
DETAIL:     (160, -3, 2025-02-22 22:04:32.178741+00, Reserva para pedido 69, 638, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\orders\views.py", line 119, in create
    StockMovement.objects.bulk_create(stock_movements)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 835, in bulk_create
    returned_columns = self._batched_insert(
        objs_without_pk,
    ...<4 lines>...
        unique_fields=unique_fields,
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1875, in _batched_insert
    self._insert(
    ~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<5 lines>...
        returning_fields=self.model._meta.db_returning_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: :   NULL   "sales_point_id"  "inventory_stockmovement"   NOT NULL
DETAIL:     (160, -3, 2025-02-22 22:04:32.178741+00, Reserva para pedido 69, 638, null).

WARNING 2025-02-22 19:41:57,637 log Forbidden: /api/orders/orders/86/update/
WARNING 2025-02-22 19:42:09,565 log Forbidden: /api/orders/orders/101/update/
WARNING 2025-02-22 19:43:46,328 log Forbidden: /api/orders/orders/116/update/
WARNING 2025-02-22 21:52:02,571 log Too Many Requests: /api/register/
WARNING 2025-02-22 21:52:02,575 log Too Many Requests: /api/register/
WARNING 2025-02-22 21:52:02,576 log Too Many Requests: /api/register/
WARNING 2025-02-22 21:52:02,854 log Unauthorized: /api/login/
WARNING 2025-02-22 21:52:03,129 log Unauthorized: /api/login/
WARNING 2025-02-22 21:52:03,403 log Unauthorized: /api/login/
WARNING 2025-02-22 21:52:03,405 log Too Many Requests: /api/login/
WARNING 2025-02-22 21:52:03,406 log Too Many Requests: /api/login/
WARNING 2025-02-22 21:53:32,938 log Forbidden: /api/795/
WARNING 2025-02-22 21:53:34,060 log Forbidden: /api/799/
WARNING 2025-02-22 21:53:34,620 log Too Many Requests: /api/register/
WARNING 2025-02-22 21:53:34,622 log Too Many Requests: /api/register/
WARNING 2025-02-22 21:53:34,623 log Too Many Requests: /api/register/
WARNING 2025-02-22 21:53:34,904 log Unauthorized: /api/login/
WARNING 2025-02-22 21:53:35,186 log Unauthorized: /api/login/
WARNING 2025-02-22 21:53:35,459 log Unauthorized: /api/login/
WARNING 2025-02-22 21:53:35,461 log Too Many Requests: /api/login/
WARNING 2025-02-22 21:53:35,462 log Too Many Requests: /api/login/
WARNING 2025-02-22 21:59:08,104 log Forbidden: /api/816/
WARNING 2025-02-22 21:59:09,217 log Forbidden: /api/820/
WARNING 2025-02-22 21:59:09,787 log Too Many Requests: /api/register/
WARNING 2025-02-22 21:59:09,788 log Too Many Requests: /api/register/
WARNING 2025-02-22 21:59:09,790 log Too Many Requests: /api/register/
WARNING 2025-02-22 21:59:10,069 log Unauthorized: /api/login/
WARNING 2025-02-22 21:59:10,345 log Unauthorized: /api/login/
WARNING 2025-02-22 21:59:10,618 log Unauthorized: /api/login/
WARNING 2025-02-22 21:59:10,619 log Too Many Requests: /api/login/
WARNING 2025-02-22 21:59:10,620 log Too Many Requests: /api/login/
WARNING 2025-02-22 22:03:41,247 log Bad Request: /api/cart/
WARNING 2025-02-22 22:32:45,025 log Bad Request: /api/purchases/invoices/create/
WARNING 2025-02-22 22:32:46,325 log Not Found: /api/purchases/invoices/returns/create/
WARNING 2025-02-23 13:18:03,085 log Bad Request: /api/purchases/invoices/create/
WARNING 2025-02-23 13:18:04,577 log Not Found: /api/purchases/invoices/returns/create/
WARNING 2025-02-23 13:23:20,448 log Forbidden: /api/908/
WARNING 2025-02-23 13:23:21,603 log Forbidden: /api/912/
WARNING 2025-02-23 13:23:22,180 log Too Many Requests: /api/register/
WARNING 2025-02-23 13:23:22,181 log Too Many Requests: /api/register/
WARNING 2025-02-23 13:23:22,182 log Too Many Requests: /api/register/
WARNING 2025-02-23 13:23:22,471 log Unauthorized: /api/login/
WARNING 2025-02-23 13:23:22,757 log Unauthorized: /api/login/
WARNING 2025-02-23 13:23:23,057 log Unauthorized: /api/login/
WARNING 2025-02-23 13:23:23,058 log Too Many Requests: /api/login/
WARNING 2025-02-23 13:23:23,059 log Too Many Requests: /api/login/
WARNING 2025-02-23 14:08:23,504 log Forbidden: /api/967/
WARNING 2025-02-23 14:08:24,665 log Forbidden: /api/971/
WARNING 2025-02-23 14:08:25,236 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:08:25,237 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:08:25,238 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:08:25,523 log Unauthorized: /api/login/
WARNING 2025-02-23 14:08:25,807 log Unauthorized: /api/login/
WARNING 2025-02-23 14:08:26,088 log Unauthorized: /api/login/
WARNING 2025-02-23 14:08:26,090 log Too Many Requests: /api/login/
WARNING 2025-02-23 14:08:26,091 log Too Many Requests: /api/login/
WARNING 2025-02-23 14:09:57,493 log Forbidden: /api/1026/
WARNING 2025-02-23 14:09:58,656 log Forbidden: /api/1030/
WARNING 2025-02-23 14:09:59,225 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:09:59,227 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:09:59,228 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:09:59,517 log Unauthorized: /api/login/
WARNING 2025-02-23 14:09:59,799 log Unauthorized: /api/login/
WARNING 2025-02-23 14:10:00,081 log Unauthorized: /api/login/
WARNING 2025-02-23 14:10:00,083 log Too Many Requests: /api/login/
WARNING 2025-02-23 14:10:00,084 log Too Many Requests: /api/login/
WARNING 2025-02-23 14:12:21,054 log Forbidden: /api/1085/
WARNING 2025-02-23 14:12:22,200 log Forbidden: /api/1089/
WARNING 2025-02-23 14:12:22,775 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:12:22,776 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:12:22,778 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:12:23,062 log Unauthorized: /api/login/
WARNING 2025-02-23 14:12:23,343 log Unauthorized: /api/login/
WARNING 2025-02-23 14:12:23,625 log Unauthorized: /api/login/
WARNING 2025-02-23 14:12:23,626 log Too Many Requests: /api/login/
WARNING 2025-02-23 14:12:23,628 log Too Many Requests: /api/login/
WARNING 2025-02-23 14:14:57,625 log Forbidden: /api/1144/
WARNING 2025-02-23 14:14:58,780 log Forbidden: /api/1148/
WARNING 2025-02-23 14:14:59,361 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:14:59,362 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:14:59,363 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:14:59,651 log Unauthorized: /api/login/
WARNING 2025-02-23 14:14:59,943 log Unauthorized: /api/login/
WARNING 2025-02-23 14:15:00,232 log Unauthorized: /api/login/
WARNING 2025-02-23 14:15:00,233 log Too Many Requests: /api/login/
WARNING 2025-02-23 14:15:00,234 log Too Many Requests: /api/login/
WARNING 2025-02-23 14:26:29,571 log Forbidden: /api/1203/
WARNING 2025-02-23 14:26:30,761 log Forbidden: /api/1207/
WARNING 2025-02-23 14:26:31,345 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:26:31,346 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:26:31,347 log Too Many Requests: /api/register/
WARNING 2025-02-23 14:26:31,629 log Unauthorized: /api/login/
WARNING 2025-02-23 14:26:31,911 log Unauthorized: /api/login/
WARNING 2025-02-23 14:26:32,194 log Unauthorized: /api/login/
WARNING 2025-02-23 14:26:32,195 log Too Many Requests: /api/login/
WARNING 2025-02-23 14:26:32,197 log Too Many Requests: /api/login/
WARNING 2025-02-23 23:37:21,720 log Forbidden: /api/1262/
WARNING 2025-02-23 23:37:22,964 log Forbidden: /api/1266/
WARNING 2025-02-23 23:37:23,588 log Too Many Requests: /api/register/
WARNING 2025-02-23 23:37:23,589 log Too Many Requests: /api/register/
WARNING 2025-02-23 23:37:23,591 log Too Many Requests: /api/register/
WARNING 2025-02-23 23:37:23,912 log Unauthorized: /api/login/
WARNING 2025-02-23 23:37:24,220 log Unauthorized: /api/login/
WARNING 2025-02-23 23:37:24,530 log Unauthorized: /api/login/
WARNING 2025-02-23 23:37:24,532 log Too Many Requests: /api/login/
WARNING 2025-02-23 23:37:24,533 log Too Many Requests: /api/login/
WARNING 2025-02-25 15:24:07,394 log Not Found: /api/products/
WARNING 2025-02-25 15:24:07,399 basehttp "GET /api/products/ HTTP/1.1" 404 5489
WARNING 2025-02-25 15:24:09,230 log Not Found: /api/products/
WARNING 2025-02-25 15:24:09,230 basehttp "GET /api/products/ HTTP/1.1" 404 5489
WARNING 2025-02-25 15:24:18,988 log Not Found: /api/products/
WARNING 2025-02-25 15:24:18,989 basehttp "GET /api/products/ HTTP/1.1" 404 5489
WARNING 2025-02-25 15:24:20,549 log Not Found: /api/products/
WARNING 2025-02-25 15:24:20,549 basehttp "GET /api/products/ HTTP/1.1" 404 5489
WARNING 2025-02-25 15:24:45,461 log Not Found: /api/products/
WARNING 2025-02-25 15:24:45,461 basehttp "GET /api/products/ HTTP/1.1" 404 5489
WARNING 2025-02-25 15:25:34,677 log Not Found: /api/products/
WARNING 2025-02-25 15:25:34,678 basehttp "GET /api/products/ HTTP/1.1" 404 5489
WARNING 2025-02-25 15:30:02,428 log Not Found: /api/products/
WARNING 2025-02-25 15:30:02,436 basehttp "GET /api/products/ HTTP/1.1" 404 5489
WARNING 2025-02-25 15:35:05,701 log Not Found: /favicon.ico
WARNING 2025-02-25 15:35:05,702 basehttp "GET /favicon.ico HTTP/1.1" 404 3659
WARNING 2025-02-25 15:48:53,036 log Unauthorized: /api/store/products/
WARNING 2025-02-25 15:48:53,039 basehttp "GET /api/store/products/ HTTP/1.1" 401 5212
WARNING 2025-02-25 15:52:03,382 log Unauthorized: /api/store/products/
WARNING 2025-02-25 15:52:03,384 basehttp "GET /api/store/products/ HTTP/1.1" 401 5212
WARNING 2025-02-25 18:23:53,557 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 18:23:53,563 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 18:25:12,409 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 18:25:12,412 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 18:25:19,888 log Too Many Requests: /api/store/products/
WARNING 2025-02-25 18:25:19,893 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 18:25:19,894 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-25 18:25:19,894 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 18:26:31,514 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 18:26:31,518 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:16:02,873 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 19:16:02,878 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:16:24,429 log Too Many Requests: /api/store/products/
WARNING 2025-02-25 19:16:24,430 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:16:24,433 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 19:16:24,434 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:16:28,143 log Too Many Requests: /api/store/products/
WARNING 2025-02-25 19:16:28,150 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 19:16:28,150 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:16:28,151 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:16:45,544 log Not Found: /favicon.ico
WARNING 2025-02-25 19:16:45,544 basehttp "GET /favicon.ico HTTP/1.1" 404 3659
WARNING 2025-02-25 19:16:47,491 log Too Many Requests: /api/store/products/
WARNING 2025-02-25 19:16:47,494 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 19:16:47,495 basehttp "GET /api/store/products/ HTTP/1.1" 429 68
WARNING 2025-02-25 19:16:47,495 basehttp "GET /api/store/categories/ HTTP/1.1" 429 68
WARNING 2025-02-25 19:19:14,416 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 19:19:14,418 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:19:16,396 log Too Many Requests: /api/store/products/
WARNING 2025-02-25 19:19:16,397 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 19:19:16,398 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:19:16,399 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:20:22,252 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 19:20:22,254 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:27:19,059 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 19:27:19,063 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:27:23,950 log Too Many Requests: /api/store/products/
WARNING 2025-02-25 19:27:23,952 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 19:27:23,953 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 19:27:23,953 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-25 20:53:51,006 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 20:53:51,012 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 20:53:53,546 log Too Many Requests: /api/store/products/
WARNING 2025-02-25 20:53:53,549 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 20:53:53,549 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-25 20:53:53,550 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 22:42:47,437 log Not Found: /api/users/me/
WARNING 2025-02-25 22:42:47,440 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-02-25 22:42:47,541 log Too Many Requests: /api/store/products/
WARNING 2025-02-25 22:42:47,542 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-25 22:47:51,240 log Too Many Requests: /api/store/products/
WARNING 2025-02-25 22:47:51,247 log Too Many Requests: /api/store/categories/
WARNING 2025-02-25 22:47:51,247 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-25 22:47:51,247 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-25 22:56:39,279 log Not Found: /api/store/category
WARNING 2025-02-25 22:56:39,286 basehttp "GET /api/store/category HTTP/1.1" 404 7037
WARNING 2025-02-25 22:56:55,466 log Not Found: /api/store/categorys/
WARNING 2025-02-25 22:56:55,466 basehttp "GET /api/store/categorys/ HTTP/1.1" 404 7043
WARNING 2025-02-25 23:12:14,282 log Not Found: /favicon.ico
WARNING 2025-02-25 23:12:14,292 basehttp "GET /favicon.ico HTTP/1.1" 404 3659
WARNING 2025-02-26 15:14:21,057 log Too Many Requests: /api/store/products/
WARNING 2025-02-26 15:14:21,065 log Too Many Requests: /api/store/categories/
WARNING 2025-02-26 15:14:21,066 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-26 15:14:21,067 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-26 15:14:24,212 log Too Many Requests: /api/store/products/
WARNING 2025-02-26 15:14:24,215 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-26 15:14:24,219 log Too Many Requests: /api/store/categories/
WARNING 2025-02-26 15:14:24,221 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-26 17:03:39,280 log Not Found: /api/users/me/
WARNING 2025-02-26 17:03:39,281 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-02-26 17:04:11,656 log Too Many Requests: /api/store/categories/
WARNING 2025-02-26 17:04:11,656 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-26 17:04:52,693 log Bad Request: /api/register/
WARNING 2025-02-26 17:04:56,554 log Forbidden: /api/1332/
WARNING 2025-02-26 17:04:57,727 log Forbidden: /api/1336/
WARNING 2025-02-26 17:04:57,732 log Bad Request: /api/register/
WARNING 2025-02-26 17:04:57,736 log Bad Request: /api/register/
WARNING 2025-02-26 17:04:57,738 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:04:57,739 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:04:57,741 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:04:58,036 log Unauthorized: /api/login/
WARNING 2025-02-26 17:04:58,327 log Unauthorized: /api/login/
WARNING 2025-02-26 17:04:58,619 log Unauthorized: /api/login/
WARNING 2025-02-26 17:04:58,620 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:04:58,622 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:18:46,574 log Forbidden: /api/1385/
WARNING 2025-02-26 17:18:47,790 log Forbidden: /api/1389/
WARNING 2025-02-26 17:18:47,796 log Bad Request: /api/register/
WARNING 2025-02-26 17:18:47,799 log Bad Request: /api/register/
WARNING 2025-02-26 17:18:47,801 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:18:47,803 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:18:47,804 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:18:48,105 log Unauthorized: /api/login/
WARNING 2025-02-26 17:18:48,403 log Unauthorized: /api/login/
WARNING 2025-02-26 17:18:48,691 log Unauthorized: /api/login/
WARNING 2025-02-26 17:18:48,693 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:18:48,694 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:21:43,295 log Forbidden: /api/1438/
WARNING 2025-02-26 17:21:44,488 log Forbidden: /api/1442/
WARNING 2025-02-26 17:21:44,494 log Bad Request: /api/register/
WARNING 2025-02-26 17:21:44,496 log Bad Request: /api/register/
WARNING 2025-02-26 17:21:44,497 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:21:44,499 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:21:44,500 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:21:44,798 log Unauthorized: /api/login/
WARNING 2025-02-26 17:21:45,095 log Unauthorized: /api/login/
WARNING 2025-02-26 17:21:45,390 log Unauthorized: /api/login/
WARNING 2025-02-26 17:21:45,392 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:21:45,393 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:23:14,960 log Forbidden: /api/1491/
WARNING 2025-02-26 17:23:16,169 log Forbidden: /api/1495/
WARNING 2025-02-26 17:23:16,175 log Bad Request: /api/register/
WARNING 2025-02-26 17:23:16,177 log Bad Request: /api/register/
WARNING 2025-02-26 17:23:16,178 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:23:16,180 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:23:16,182 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:23:16,477 log Unauthorized: /api/login/
WARNING 2025-02-26 17:23:16,768 log Unauthorized: /api/login/
WARNING 2025-02-26 17:23:17,060 log Unauthorized: /api/login/
WARNING 2025-02-26 17:23:17,061 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:23:17,062 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:26:01,664 log Forbidden: /api/1544/
WARNING 2025-02-26 17:26:02,844 log Forbidden: /api/1548/
WARNING 2025-02-26 17:26:02,849 log Bad Request: /api/register/
WARNING 2025-02-26 17:26:02,852 log Bad Request: /api/register/
WARNING 2025-02-26 17:26:02,854 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:26:02,856 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:26:02,857 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:26:03,152 log Unauthorized: /api/login/
WARNING 2025-02-26 17:26:03,459 log Unauthorized: /api/login/
WARNING 2025-02-26 17:26:03,754 log Unauthorized: /api/login/
WARNING 2025-02-26 17:26:03,756 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:26:03,758 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:27:26,871 log Forbidden: /api/1600/
WARNING 2025-02-26 17:27:28,095 log Forbidden: /api/1604/
WARNING 2025-02-26 17:27:28,101 log Bad Request: /api/register/
WARNING 2025-02-26 17:27:28,104 log Bad Request: /api/register/
WARNING 2025-02-26 17:27:28,106 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:27:28,107 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:27:28,108 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:27:28,417 log Unauthorized: /api/login/
WARNING 2025-02-26 17:27:28,710 log Unauthorized: /api/login/
WARNING 2025-02-26 17:27:29,005 log Unauthorized: /api/login/
WARNING 2025-02-26 17:27:29,006 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:27:29,007 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:32:15,969 log Forbidden: /api/1659/
WARNING 2025-02-26 17:32:17,153 log Forbidden: /api/1663/
WARNING 2025-02-26 17:32:17,158 log Bad Request: /api/register/
WARNING 2025-02-26 17:32:17,160 log Bad Request: /api/register/
WARNING 2025-02-26 17:32:17,162 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:32:17,163 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:32:17,164 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:32:17,457 log Unauthorized: /api/login/
WARNING 2025-02-26 17:32:17,748 log Unauthorized: /api/login/
WARNING 2025-02-26 17:32:18,037 log Unauthorized: /api/login/
WARNING 2025-02-26 17:32:18,039 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:32:18,040 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:34:10,942 log Forbidden: /api/1718/
WARNING 2025-02-26 17:34:12,124 log Forbidden: /api/1722/
WARNING 2025-02-26 17:34:12,129 log Bad Request: /api/register/
WARNING 2025-02-26 17:34:12,131 log Bad Request: /api/register/
WARNING 2025-02-26 17:34:12,133 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:34:12,134 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:34:12,135 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:34:12,426 log Unauthorized: /api/login/
WARNING 2025-02-26 17:34:12,720 log Unauthorized: /api/login/
WARNING 2025-02-26 17:34:13,017 log Unauthorized: /api/login/
WARNING 2025-02-26 17:34:13,019 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:34:13,020 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:36:08,986 log Forbidden: /api/1777/
WARNING 2025-02-26 17:36:10,173 log Forbidden: /api/1781/
WARNING 2025-02-26 17:36:10,178 log Bad Request: /api/register/
WARNING 2025-02-26 17:36:10,181 log Bad Request: /api/register/
WARNING 2025-02-26 17:36:10,182 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:36:10,184 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:36:10,185 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:36:10,481 log Unauthorized: /api/login/
WARNING 2025-02-26 17:36:10,770 log Unauthorized: /api/login/
WARNING 2025-02-26 17:36:11,062 log Unauthorized: /api/login/
WARNING 2025-02-26 17:36:11,064 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:36:11,065 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:40:19,104 log Forbidden: /api/1836/
WARNING 2025-02-26 17:40:20,289 log Forbidden: /api/1840/
WARNING 2025-02-26 17:40:20,295 log Bad Request: /api/register/
WARNING 2025-02-26 17:40:20,298 log Bad Request: /api/register/
WARNING 2025-02-26 17:40:20,299 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:40:20,300 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:40:20,302 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:40:20,594 log Unauthorized: /api/login/
WARNING 2025-02-26 17:40:20,887 log Unauthorized: /api/login/
WARNING 2025-02-26 17:40:21,177 log Unauthorized: /api/login/
WARNING 2025-02-26 17:40:21,178 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:40:21,180 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:52:16,534 log Forbidden: /api/1894/
WARNING 2025-02-26 17:52:18,693 log Forbidden: /api/1898/
WARNING 2025-02-26 17:52:18,702 log Bad Request: /api/register/
WARNING 2025-02-26 17:52:18,707 log Bad Request: /api/register/
WARNING 2025-02-26 17:52:18,709 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:52:18,712 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:52:18,715 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:52:19,138 log Unauthorized: /api/login/
WARNING 2025-02-26 17:52:19,533 log Unauthorized: /api/login/
WARNING 2025-02-26 17:52:19,911 log Unauthorized: /api/login/
WARNING 2025-02-26 17:52:19,913 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:52:19,915 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:57:19,183 log Forbidden: /api/1952/
WARNING 2025-02-26 17:57:20,360 log Forbidden: /api/1956/
WARNING 2025-02-26 17:57:20,365 log Bad Request: /api/register/
WARNING 2025-02-26 17:57:20,367 log Bad Request: /api/register/
WARNING 2025-02-26 17:57:20,368 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:57:20,369 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:57:20,370 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:57:20,664 log Unauthorized: /api/login/
WARNING 2025-02-26 17:57:20,954 log Unauthorized: /api/login/
WARNING 2025-02-26 17:57:21,246 log Unauthorized: /api/login/
WARNING 2025-02-26 17:57:21,248 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:57:21,249 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:59:28,576 log Forbidden: /api/purchases/invoices/create/
WARNING 2025-02-26 17:59:29,339 log Not Found: /api/purchases/invoices/170/
WARNING 2025-02-26 17:59:29,641 log Not Found: /api/purchases/invoices/171/status/
WARNING 2025-02-26 17:59:29,950 log Forbidden: /api/purchases/invoices/returns/create/
WARNING 2025-02-26 17:59:30,574 log Not Found: /api/purchases/invoices/returns/70/
WARNING 2025-02-26 17:59:31,843 log Forbidden: /api/store/low-stock/
WARNING 2025-02-26 17:59:39,146 log Forbidden: /api/2008/
WARNING 2025-02-26 17:59:39,757 log Forbidden: /api/2010/
WARNING 2025-02-26 17:59:40,629 log Forbidden: /api/2012/
WARNING 2025-02-26 17:59:41,501 log Forbidden: /api/2014/
WARNING 2025-02-26 17:59:41,507 log Bad Request: /api/register/
WARNING 2025-02-26 17:59:41,509 log Bad Request: /api/register/
WARNING 2025-02-26 17:59:41,511 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:59:41,512 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:59:41,513 log Too Many Requests: /api/register/
WARNING 2025-02-26 17:59:41,892 log Unauthorized: /api/login/
WARNING 2025-02-26 17:59:42,299 log Unauthorized: /api/login/
WARNING 2025-02-26 17:59:42,687 log Unauthorized: /api/login/
WARNING 2025-02-26 17:59:42,688 log Too Many Requests: /api/login/
WARNING 2025-02-26 17:59:42,690 log Too Many Requests: /api/login/
WARNING 2025-02-26 18:00:22,541 log Forbidden: /api/purchases/invoices/create/
WARNING 2025-02-26 18:00:23,260 log Not Found: /api/purchases/invoices/176/
WARNING 2025-02-26 18:00:23,573 log Not Found: /api/purchases/invoices/177/status/
WARNING 2025-02-26 18:00:23,883 log Forbidden: /api/purchases/invoices/returns/create/
WARNING 2025-02-26 18:00:24,503 log Not Found: /api/purchases/invoices/returns/72/
WARNING 2025-02-26 18:00:25,793 log Forbidden: /api/store/low-stock/
WARNING 2025-02-26 18:00:32,506 log Forbidden: /api/2066/
WARNING 2025-02-26 18:00:33,116 log Forbidden: /api/2068/
WARNING 2025-02-26 18:00:33,702 log Forbidden: /api/2070/
WARNING 2025-02-26 18:00:34,301 log Forbidden: /api/2072/
WARNING 2025-02-26 18:00:34,305 log Bad Request: /api/register/
WARNING 2025-02-26 18:00:34,307 log Bad Request: /api/register/
WARNING 2025-02-26 18:00:34,308 log Too Many Requests: /api/register/
WARNING 2025-02-26 18:00:34,310 log Too Many Requests: /api/register/
WARNING 2025-02-26 18:00:34,310 log Too Many Requests: /api/register/
WARNING 2025-02-26 18:00:34,606 log Unauthorized: /api/login/
WARNING 2025-02-26 18:00:34,899 log Unauthorized: /api/login/
WARNING 2025-02-26 18:00:35,192 log Unauthorized: /api/login/
WARNING 2025-02-26 18:00:35,193 log Too Many Requests: /api/login/
WARNING 2025-02-26 18:00:35,195 log Too Many Requests: /api/login/
WARNING 2025-02-27 12:23:16,969 log Forbidden: /api/2127/
WARNING 2025-02-27 12:23:18,128 log Forbidden: /api/2131/
WARNING 2025-02-27 12:23:18,133 log Bad Request: /api/register/
WARNING 2025-02-27 12:23:18,135 log Bad Request: /api/register/
WARNING 2025-02-27 12:23:18,136 log Too Many Requests: /api/register/
WARNING 2025-02-27 12:23:18,138 log Too Many Requests: /api/register/
WARNING 2025-02-27 12:23:18,139 log Too Many Requests: /api/register/
WARNING 2025-02-27 12:23:18,429 log Unauthorized: /api/login/
WARNING 2025-02-27 12:23:18,714 log Unauthorized: /api/login/
WARNING 2025-02-27 12:23:19,001 log Unauthorized: /api/login/
WARNING 2025-02-27 12:23:19,002 log Too Many Requests: /api/login/
WARNING 2025-02-27 12:23:19,003 log Too Many Requests: /api/login/
WARNING 2025-02-27 12:27:24,247 log Too Many Requests: /api/store/products/
WARNING 2025-02-27 12:27:24,251 log Too Many Requests: /api/store/categories/
WARNING 2025-02-27 12:27:24,251 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-27 12:27:24,252 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-27 12:27:26,082 log Too Many Requests: /api/store/products/
WARNING 2025-02-27 12:27:26,083 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-27 12:27:26,085 log Too Many Requests: /api/store/categories/
WARNING 2025-02-27 12:27:26,086 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-27 12:37:51,755 log Too Many Requests: /api/store/products/
WARNING 2025-02-27 12:37:51,759 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-27 12:37:56,874 log Too Many Requests: /api/store/products/
WARNING 2025-02-27 12:37:56,877 log Too Many Requests: /api/store/categories/
WARNING 2025-02-27 12:37:56,877 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-27 12:37:56,877 basehttp "GET /api/store/categories/ HTTP/1.1" 429 69
WARNING 2025-02-27 12:37:58,324 log Too Many Requests: /api/store/products/
WARNING 2025-02-27 12:37:58,325 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-27 12:38:42,605 log Too Many Requests: /api/store/products/
WARNING 2025-02-27 12:38:42,606 basehttp "GET /api/store/products/ HTTP/1.1" 429 67
WARNING 2025-02-27 12:43:18,547 log Too Many Requests: /api/store/products/
WARNING 2025-02-27 12:43:18,548 basehttp "GET /api/store/products/ HTTP/1.1" 429 69
WARNING 2025-02-27 12:58:02,957 log Not Found: /favicon.ico
WARNING 2025-02-27 12:58:02,958 basehttp "GET /favicon.ico HTTP/1.1" 404 3659
WARNING 2025-02-27 13:01:27,594 log Forbidden: /api/2186/
WARNING 2025-02-27 13:01:28,755 log Forbidden: /api/2190/
WARNING 2025-02-27 13:01:28,760 log Bad Request: /api/register/
WARNING 2025-02-27 13:01:28,762 log Bad Request: /api/register/
WARNING 2025-02-27 13:01:28,763 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:01:28,764 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:01:28,765 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:01:29,050 log Unauthorized: /api/login/
WARNING 2025-02-27 13:01:29,334 log Unauthorized: /api/login/
WARNING 2025-02-27 13:01:29,619 log Unauthorized: /api/login/
WARNING 2025-02-27 13:01:29,621 log Too Many Requests: /api/login/
WARNING 2025-02-27 13:01:29,622 log Too Many Requests: /api/login/
WARNING 2025-02-27 13:11:10,325 log Forbidden: /api/2245/
WARNING 2025-02-27 13:11:11,487 log Forbidden: /api/2249/
WARNING 2025-02-27 13:11:11,491 log Bad Request: /api/register/
WARNING 2025-02-27 13:11:11,493 log Bad Request: /api/register/
WARNING 2025-02-27 13:11:11,495 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:11:11,495 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:11:11,496 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:11:11,781 log Unauthorized: /api/login/
WARNING 2025-02-27 13:11:12,066 log Unauthorized: /api/login/
WARNING 2025-02-27 13:11:12,352 log Unauthorized: /api/login/
WARNING 2025-02-27 13:11:12,354 log Too Many Requests: /api/login/
WARNING 2025-02-27 13:11:12,355 log Too Many Requests: /api/login/
WARNING 2025-02-27 13:12:04,229 log Forbidden: /api/2304/
WARNING 2025-02-27 13:12:05,385 log Forbidden: /api/2308/
WARNING 2025-02-27 13:12:05,390 log Bad Request: /api/register/
WARNING 2025-02-27 13:12:05,392 log Bad Request: /api/register/
WARNING 2025-02-27 13:12:05,394 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:12:05,395 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:12:05,397 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:12:05,695 log Unauthorized: /api/login/
WARNING 2025-02-27 13:12:05,992 log Unauthorized: /api/login/
WARNING 2025-02-27 13:12:06,283 log Unauthorized: /api/login/
WARNING 2025-02-27 13:12:06,285 log Too Many Requests: /api/login/
WARNING 2025-02-27 13:12:06,286 log Too Many Requests: /api/login/
WARNING 2025-02-27 13:26:13,860 log Forbidden: /api/2363/
WARNING 2025-02-27 13:26:15,023 log Forbidden: /api/2367/
WARNING 2025-02-27 13:26:15,028 log Bad Request: /api/register/
WARNING 2025-02-27 13:26:15,030 log Bad Request: /api/register/
WARNING 2025-02-27 13:26:15,032 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:26:15,033 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:26:15,034 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:26:15,321 log Unauthorized: /api/login/
WARNING 2025-02-27 13:26:15,607 log Unauthorized: /api/login/
WARNING 2025-02-27 13:26:15,892 log Unauthorized: /api/login/
WARNING 2025-02-27 13:26:15,894 log Too Many Requests: /api/login/
WARNING 2025-02-27 13:26:15,895 log Too Many Requests: /api/login/
WARNING 2025-02-27 13:27:31,226 log Forbidden: /api/2422/
WARNING 2025-02-27 13:27:32,404 log Forbidden: /api/2426/
WARNING 2025-02-27 13:27:32,410 log Bad Request: /api/register/
WARNING 2025-02-27 13:27:32,412 log Bad Request: /api/register/
WARNING 2025-02-27 13:27:32,413 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:27:32,413 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:27:32,415 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:27:32,704 log Unauthorized: /api/login/
WARNING 2025-02-27 13:27:32,991 log Unauthorized: /api/login/
WARNING 2025-02-27 13:27:33,280 log Unauthorized: /api/login/
WARNING 2025-02-27 13:27:33,281 log Too Many Requests: /api/login/
WARNING 2025-02-27 13:27:33,283 log Too Many Requests: /api/login/
WARNING 2025-02-27 13:38:39,296 log Forbidden: /api/2481/
WARNING 2025-02-27 13:38:40,459 log Forbidden: /api/2485/
WARNING 2025-02-27 13:38:40,465 log Bad Request: /api/register/
WARNING 2025-02-27 13:38:40,467 log Bad Request: /api/register/
WARNING 2025-02-27 13:38:40,468 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:38:40,469 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:38:40,471 log Too Many Requests: /api/register/
WARNING 2025-02-27 13:38:40,756 log Unauthorized: /api/login/
WARNING 2025-02-27 13:38:41,040 log Unauthorized: /api/login/
WARNING 2025-02-27 13:38:41,324 log Unauthorized: /api/login/
WARNING 2025-02-27 13:38:41,325 log Too Many Requests: /api/login/
WARNING 2025-02-27 13:38:41,326 log Too Many Requests: /api/login/
ERROR 2025-02-28 12:42:28,187 log Internal Server Error: /admin/purchases/invoice/add/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1961, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1870, in _changeform_view
    if all_valid(formsets) and form_validated:
       ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 579, in all_valid
    return all([formset.is_valid() for formset in formsets])
                ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 384, in is_valid
    self.errors
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 366, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 429, in full_clean
    form_errors = form.errors
                  ^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 192, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 327, in full_clean
    self._post_clean()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\models.py", line 498, in _post_clean
    self.instance.full_clean(exclude=exclude, validate_unique=False)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 1626, in full_clean
    self.clean()
    ~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 143, in clean
    existing_item = InvoiceItem.objects.filter(invoice=self.invoice, product=self.product).exclude(pk=self.pk).first()
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 147, in get_prep_lookup
    self.rhs = get_normalized_value(self.rhs, self.lhs)[0]
               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 45, in get_normalized_value
    raise ValueError("Model instances passed to related filters must be saved.")
ValueError: Model instances passed to related filters must be saved.
ERROR 2025-02-28 12:42:28,200 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 221782
ERROR 2025-02-28 13:01:08,295 log Internal Server Error: /admin/purchases/invoice/add/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1961, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1870, in _changeform_view
    if all_valid(formsets) and form_validated:
       ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 579, in all_valid
    return all([formset.is_valid() for formset in formsets])
                ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 384, in is_valid
    self.errors
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 366, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 429, in full_clean
    form_errors = form.errors
                  ^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 192, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 327, in full_clean
    self._post_clean()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\models.py", line 498, in _post_clean
    self.instance.full_clean(exclude=exclude, validate_unique=False)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 1626, in full_clean
    self.clean()
    ~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 143, in clean
    existing_item = InvoiceItem.objects.filter(invoice=self.invoice, product=self.product).exclude(pk=self.pk).first()
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 147, in get_prep_lookup
    self.rhs = get_normalized_value(self.rhs, self.lhs)[0]
               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 45, in get_normalized_value
    raise ValueError("Model instances passed to related filters must be saved.")
ValueError: Model instances passed to related filters must be saved.
ERROR 2025-02-28 13:01:08,304 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 221784
ERROR 2025-02-28 13:04:55,585 log Internal Server Error: /admin/purchases/invoice/add/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1961, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1870, in _changeform_view
    if all_valid(formsets) and form_validated:
       ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 579, in all_valid
    return all([formset.is_valid() for formset in formsets])
                ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 384, in is_valid
    self.errors
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 366, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 429, in full_clean
    form_errors = form.errors
                  ^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 192, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 327, in full_clean
    self._post_clean()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\models.py", line 498, in _post_clean
    self.instance.full_clean(exclude=exclude, validate_unique=False)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 1626, in full_clean
    self.clean()
    ~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 143, in clean
    existing_item = InvoiceItem.objects.filter(invoice=self.invoice, product=self.product).exclude(pk=self.pk).first()
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 147, in get_prep_lookup
    self.rhs = get_normalized_value(self.rhs, self.lhs)[0]
               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 45, in get_normalized_value
    raise ValueError("Model instances passed to related filters must be saved.")
ValueError: Model instances passed to related filters must be saved.
ERROR 2025-02-28 13:04:55,590 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 221784
ERROR 2025-02-28 13:07:47,499 log Internal Server Error: /admin/purchases/invoice/add/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1961, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1870, in _changeform_view
    if all_valid(formsets) and form_validated:
       ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 579, in all_valid
    return all([formset.is_valid() for formset in formsets])
                ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 384, in is_valid
    self.errors
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 366, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 429, in full_clean
    form_errors = form.errors
                  ^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 192, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 327, in full_clean
    self._post_clean()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\models.py", line 498, in _post_clean
    self.instance.full_clean(exclude=exclude, validate_unique=False)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 1626, in full_clean
    self.clean()
    ~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 143, in clean
    existing_item = InvoiceItem.objects.filter(invoice=self.invoice, product=self.product).exclude(pk=self.pk).first()
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 147, in get_prep_lookup
    self.rhs = get_normalized_value(self.rhs, self.lhs)[0]
               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 45, in get_normalized_value
    raise ValueError("Model instances passed to related filters must be saved.")
ValueError: Model instances passed to related filters must be saved.
ERROR 2025-02-28 13:07:47,508 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 221784
ERROR 2025-02-28 13:12:24,487 log Internal Server Error: /admin/purchases/invoice/add/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1961, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1870, in _changeform_view
    if all_valid(formsets) and form_validated:
       ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 579, in all_valid
    return all([formset.is_valid() for formset in formsets])
                ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 384, in is_valid
    self.errors
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 366, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 429, in full_clean
    form_errors = form.errors
                  ^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 192, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 327, in full_clean
    self._post_clean()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\models.py", line 498, in _post_clean
    self.instance.full_clean(exclude=exclude, validate_unique=False)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 1626, in full_clean
    self.clean()
    ~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 143, in clean
    existing_item = InvoiceItem.objects.filter(invoice=self.invoice, product=self.product).exclude(pk=self.pk).first()
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 147, in get_prep_lookup
    self.rhs = get_normalized_value(self.rhs, self.lhs)[0]
               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 45, in get_normalized_value
    raise ValueError("Model instances passed to related filters must be saved.")
ValueError: Model instances passed to related filters must be saved.
ERROR 2025-02-28 13:12:24,496 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 221802
ERROR 2025-02-28 16:56:31,048 log Internal Server Error: /admin/purchases/invoice/add/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1961, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1870, in _changeform_view
    if all_valid(formsets) and form_validated:
       ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 579, in all_valid
    return all([formset.is_valid() for formset in formsets])
                ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 384, in is_valid
    self.errors
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 366, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 429, in full_clean
    form_errors = form.errors
                  ^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 192, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 327, in full_clean
    self._post_clean()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\models.py", line 498, in _post_clean
    self.instance.full_clean(exclude=exclude, validate_unique=False)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 1626, in full_clean
    self.clean()
    ~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 143, in clean
    existing_item = InvoiceItem.objects.filter(invoice=self.invoice, product=self.product).exclude(pk=self.pk).first()
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 147, in get_prep_lookup
    self.rhs = get_normalized_value(self.rhs, self.lhs)[0]
               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_lookups.py", line 45, in get_normalized_value
    raise ValueError("Model instances passed to related filters must be saved.")
ValueError: Model instances passed to related filters must be saved.
ERROR 2025-02-28 16:56:31,056 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 221784
ERROR 2025-02-28 17:00:46,599 log Internal Server Error: /admin/purchases/invoice/add/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1961, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1870, in _changeform_view
    if all_valid(formsets) and form_validated:
       ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 579, in all_valid
    return all([formset.is_valid() for formset in formsets])
                ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 384, in is_valid
    self.errors
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 366, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\formsets.py", line 429, in full_clean
    form_errors = form.errors
                  ^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 192, in errors
    self.full_clean()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\forms.py", line 327, in full_clean
    self._post_clean()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\forms\models.py", line 498, in _post_clean
    self.instance.full_clean(exclude=exclude, validate_unique=False)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 1626, in full_clean
    self.clean()
    ~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 143, in clean
    existing_item = InvoiceItem.objects.filter(invoice=self.invoice, product=self.product).exclude(pk=self.pk).first()
                                                       ^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 267, in __get__
    raise self.RelatedObjectDoesNotExist(
        "%s has no %s." % (self.field.model.__name__, self.field.name)
    )
purchases.models.InvoiceItem.invoice.RelatedObjectDoesNotExist: InvoiceItem has no invoice.. Did you mean: 'invoice_id'?
ERROR 2025-02-28 17:00:46,605 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 171682
ERROR 2025-02-28 17:06:03,892 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 17:06:03,899 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142700
ERROR 2025-02-28 17:23:46,677 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1871, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\admin.py", line 100, in save_model
    raise ValidationError({"status": "No se puede modificar una factura procesada."})
django.core.exceptions.ValidationError: {'status': ['No se puede modificar una factura procesada.']}
ERROR 2025-02-28 17:23:46,680 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 138236
ERROR 2025-02-28 17:24:02,162 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1871, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\admin.py", line 100, in save_model
    raise ValidationError({"status": "No se puede modificar una factura procesada."})
django.core.exceptions.ValidationError: {'status': ['No se puede modificar una factura procesada.']}
ERROR 2025-02-28 17:24:02,173 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 138236
ERROR 2025-02-28 17:26:47,090 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 17:26:47,095 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142700
ERROR 2025-02-28 17:34:51,934 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1871, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\admin.py", line 87, in save_model
    super().save_model(request, obj, form, change)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1294, in save_model
    obj.save()
    ~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 42, in save
    self.update_stock()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 57, in update_stock
    with transaction.atomic():
         ^^^^^^^^^^^
NameError: name 'transaction' is not defined
ERROR 2025-02-28 17:34:51,940 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 150385
ERROR 2025-02-28 17:38:22,133 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 17:38:22,136 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142700
ERROR 2025-02-28 17:49:42,969 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 17:49:42,977 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142700
ERROR 2025-02-28 17:49:54,312 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 17:49:54,317 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142700
ERROR 2025-02-28 18:04:30,545 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\admin.py", line 190, in construct_change_message
    for obj in formset.save_new_objects:
               ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'method' object is not iterable
ERROR 2025-02-28 18:04:30,557 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 137848
ERROR 2025-02-28 18:48:16,763 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 18:48:16,768 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142599
ERROR 2025-02-28 18:48:23,278 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 18:48:23,283 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142700
ERROR 2025-02-28 18:50:18,264 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 18:50:18,271 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142599
ERROR 2025-02-28 18:59:35,249 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 18:59:35,254 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142599
ERROR 2025-02-28 19:40:18,443 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 19:40:18,449 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142700
ERROR 2025-02-28 20:03:50,705 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 20:03:50,712 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142700
ERROR 2025-02-28 20:08:21,463 log Internal Server Error: /admin/purchases/invoice/230/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1873, in _changeform_view
    change_message = self.construct_change_message(
        request, form, formsets, add
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1253, in construct_change_message
    return construct_change_message(form, formsets, add)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\utils.py", line 573, in construct_change_message
    for added_object in formset.new_objects:
                        ^^^^^^^^^^^^^^^^^^^
AttributeError: 'InvoiceItemFormFormSet' object has no attribute 'new_objects'. Did you mean: 'save_new_objects'?
ERROR 2025-02-28 20:08:21,468 basehttp "POST /admin/purchases/invoice/230/change/ HTTP/1.1" 500 142599
WARNING 2025-03-02 00:08:05,407 log Not Found: /
WARNING 2025-03-02 00:08:05,409 basehttp "GET / HTTP/1.1" 404 3608
WARNING 2025-03-02 00:08:06,253 log Not Found: /favicon.ico
WARNING 2025-03-02 00:08:06,254 basehttp "GET /favicon.ico HTTP/1.1" 404 3659
WARNING 2025-03-02 00:21:21,339 log Not Found: /api/users/me/
WARNING 2025-03-02 00:21:21,340 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-02 00:28:00,769 log Not Found: /api/users/me/
WARNING 2025-03-02 00:28:00,771 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-02 00:28:32,479 log Unauthorized: /api/login/
WARNING 2025-03-02 00:28:32,480 basehttp "POST /api/login/ HTTP/1.1" 401 63
WARNING 2025-03-02 00:28:34,240 log Unauthorized: /api/login/
WARNING 2025-03-02 00:28:34,241 basehttp "POST /api/login/ HTTP/1.1" 401 63
WARNING 2025-03-02 00:29:00,120 log Not Found: /api/users/me/
WARNING 2025-03-02 00:29:00,121 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-02 00:29:04,537 log Not Found: /api/users/me/
WARNING 2025-03-02 00:29:04,537 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-02 00:29:06,178 log Not Found: /api/users/me/
WARNING 2025-03-02 00:29:06,179 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-02 00:33:20,179 log Not Found: /api/users/me/
WARNING 2025-03-02 00:33:20,183 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-02 00:36:11,340 log Not Found: /api/users/me/
WARNING 2025-03-02 00:36:11,341 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-02 00:36:27,513 log Not Found: /api/users/me/
WARNING 2025-03-02 00:36:27,514 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-02 00:36:31,328 log Not Found: /api/users/me/
WARNING 2025-03-02 00:36:31,329 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-02 00:36:44,670 log Not Found: /api/users/me/
WARNING 2025-03-02 00:36:44,671 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-02 00:37:13,853 log Not Found: /api/users/me/
WARNING 2025-03-02 00:37:13,854 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-05 17:21:59,048 log Unauthorized: /api/store/products/
WARNING 2025-03-05 17:21:59,049 basehttp "GET /api/store/products/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:22:03,255 log Unauthorized: /api/store/products/
WARNING 2025-03-05 17:22:03,258 log Unauthorized: /api/store/categories/
WARNING 2025-03-05 17:22:03,259 basehttp "GET /api/store/products/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:22:03,259 basehttp "GET /api/store/categories/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:22:05,603 log Unauthorized: /api/store/categories/
WARNING 2025-03-05 17:22:05,605 log Unauthorized: /api/store/products/
WARNING 2025-03-05 17:22:05,608 basehttp "GET /api/store/categories/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:22:05,610 basehttp "GET /api/store/products/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:12,532 log Unauthorized: /api/store/products/
WARNING 2025-03-05 17:27:12,538 log Unauthorized: /api/store/categories/
WARNING 2025-03-05 17:27:12,541 basehttp "GET /api/store/products/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:12,543 basehttp "GET /api/store/categories/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:14,302 log Unauthorized: /api/store/products/
WARNING 2025-03-05 17:27:14,303 basehttp "GET /api/store/products/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:15,732 log Unauthorized: /api/store/products/
WARNING 2025-03-05 17:27:15,734 log Unauthorized: /api/store/categories/
WARNING 2025-03-05 17:27:15,736 basehttp "GET /api/store/products/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:15,736 basehttp "GET /api/store/categories/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:25,286 log Unauthorized: /api/store/products/
WARNING 2025-03-05 17:27:25,312 basehttp "GET /api/store/products/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:25,329 log Unauthorized: /api/store/categories/
WARNING 2025-03-05 17:27:25,351 basehttp "GET /api/store/categories/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:27,188 log Unauthorized: /api/store/products/
WARNING 2025-03-05 17:27:27,190 basehttp "GET /api/store/products/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:27,201 log Unauthorized: /api/store/categories/
WARNING 2025-03-05 17:27:27,202 basehttp "GET /api/store/categories/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:29,745 log Unauthorized: /api/store/products/
WARNING 2025-03-05 17:27:29,746 basehttp "GET /api/store/products/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:30,920 log Unauthorized: /api/store/products/
WARNING 2025-03-05 17:27:30,921 basehttp "GET /api/store/products/ HTTP/1.1" 401 183
WARNING 2025-03-05 17:27:30,925 log Unauthorized: /api/store/categories/
WARNING 2025-03-05 17:27:30,926 basehttp "GET /api/store/categories/ HTTP/1.1" 401 183
WARNING 2025-03-05 18:08:02,524 log Unauthorized: /api/orders/create/
WARNING 2025-03-05 18:08:02,529 basehttp "POST /api/orders/create/ HTTP/1.1" 401 183
WARNING 2025-03-05 18:08:58,695 log Unauthorized: /api/store/products/2197/
WARNING 2025-03-05 18:08:58,697 basehttp "GET /api/store/products/2197/ HTTP/1.1" 401 183
WARNING 2025-03-05 18:09:03,697 log Unauthorized: /api/store/products/
WARNING 2025-03-05 18:09:03,697 basehttp "GET /api/store/products/ HTTP/1.1" 401 183
WARNING 2025-03-05 18:09:03,753 log Unauthorized: /api/store/categories/
WARNING 2025-03-05 18:09:03,754 basehttp "GET /api/store/categories/ HTTP/1.1" 401 183
WARNING 2025-03-14 18:33:32,629 log Not Found: /favicon.ico
WARNING 2025-03-14 18:33:32,631 basehttp "GET /favicon.ico HTTP/1.1" 404 3659
WARNING 2025-03-14 18:44:54,270 log Not Found: /api/users/me/
WARNING 2025-03-14 18:44:54,271 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-14 18:45:52,461 log Not Found: /api/analytics/
WARNING 2025-03-14 18:45:52,462 basehttp "GET //api/analytics/ HTTP/1.1" 404 5492
WARNING 2025-03-14 19:00:16,482 log Not Found: /api/users/me/
WARNING 2025-03-14 19:00:16,483 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-14 19:03:29,638 log Not Found: /api/users/me/
WARNING 2025-03-14 19:03:29,639 basehttp "GET /api/users/me/ HTTP/1.1" 404 5489
WARNING 2025-03-14 19:12:11,639 log Not Found: /api/users/login/
WARNING 2025-03-14 19:12:11,641 basehttp "POST /api/users/login/ HTTP/1.1" 404 5750
WARNING 2025-03-14 19:13:10,418 log Not Found: /api/users/login/
WARNING 2025-03-14 19:13:10,419 basehttp "POST /api/users/login/ HTTP/1.1" 404 5750
ERROR 2025-03-14 19:15:45,935 log Internal Server Error: /api/users/me/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\users\views.py", line 146, in get
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 571, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 538, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\fields.py", line 1870, in to_representation
    return method(value)
  File "C:\Users\Ankalin\PycharmProjects\megastation\users\serializers.py", line 49, in get_is_admin
    return obj.is_admin
           ^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'is_admin'
ERROR 2025-03-14 19:15:45,941 basehttp "GET /api/users/me/ HTTP/1.1" 500 127599
ERROR 2025-03-14 19:16:01,861 log Internal Server Error: /api/users/me/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\users\views.py", line 146, in get
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 571, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 538, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\fields.py", line 1870, in to_representation
    return method(value)
  File "C:\Users\Ankalin\PycharmProjects\megastation\users\serializers.py", line 49, in get_is_admin
    return obj.is_admin
           ^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'is_admin'
ERROR 2025-03-14 19:16:01,865 basehttp "GET /api/users/me/ HTTP/1.1" 500 127599
ERROR 2025-03-14 19:17:17,878 log Internal Server Error: /api/users/me/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\users\views.py", line 146, in get
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 571, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 538, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\fields.py", line 1870, in to_representation
    return method(value)
  File "C:\Users\Ankalin\PycharmProjects\megastation\users\serializers.py", line 49, in get_is_admin
    return obj.is_admin
           ^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'is_admin'
ERROR 2025-03-14 19:17:17,887 basehttp "GET /api/users/me/ HTTP/1.1" 500 127599
WARNING 2025-03-14 19:20:18,102 log Not Found: /api/analytics/
WARNING 2025-03-14 19:20:18,102 basehttp "GET /api/analytics/ HTTP/1.1" 404 4064
WARNING 2025-03-14 19:20:23,104 log Not Found: /api/analytics/
WARNING 2025-03-14 19:20:23,105 basehttp "GET /api/analytics/ HTTP/1.1" 404 4064
WARNING 2025-03-14 19:20:45,885 log Not Found: /api/analytics/
WARNING 2025-03-14 19:20:45,886 basehttp "GET /api/analytics/ HTTP/1.1" 404 4064
WARNING 2025-03-14 19:54:22,430 log Unauthorized: /api/users/me/
WARNING 2025-03-14 19:54:22,432 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-14 19:54:22,437 log Unauthorized: /api/users/me/
WARNING 2025-03-14 19:54:22,439 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-14 19:54:46,059 log Unauthorized: /api/users/login/
WARNING 2025-03-14 19:54:46,060 basehttp "POST /api/users/login/ HTTP/1.1" 401 63
WARNING 2025-03-14 20:53:55,171 log Unauthorized: /api/users/me/
WARNING 2025-03-14 20:53:55,172 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-14 20:54:09,835 log Unauthorized: /api/users/login/
WARNING 2025-03-14 20:54:09,836 basehttp "POST /api/users/login/ HTTP/1.1" 401 63
WARNING 2025-03-14 20:56:21,122 log Forbidden: /api/analytics/
WARNING 2025-03-14 20:56:21,428 log Forbidden: /api/analytics/
WARNING 2025-03-14 20:56:28,271 log Forbidden: /api/users/2547/
WARNING 2025-03-14 20:56:29,456 log Forbidden: /api/users/2551/
WARNING 2025-03-14 20:56:29,460 log Bad Request: /api/users/register/
WARNING 2025-03-14 20:56:29,462 log Bad Request: /api/users/register/
WARNING 2025-03-14 20:56:29,462 log Too Many Requests: /api/users/register/
WARNING 2025-03-14 20:56:29,463 log Too Many Requests: /api/users/register/
WARNING 2025-03-14 20:56:29,463 log Too Many Requests: /api/users/register/
WARNING 2025-03-14 20:56:29,760 log Unauthorized: /api/users/login/
WARNING 2025-03-14 20:56:30,051 log Unauthorized: /api/users/login/
WARNING 2025-03-14 20:56:30,349 log Unauthorized: /api/users/login/
WARNING 2025-03-14 20:56:30,350 log Too Many Requests: /api/users/login/
WARNING 2025-03-14 20:56:30,351 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 12:49:50,716 log Method Not Allowed: /api/purchases/invoices/
WARNING 2025-03-15 12:49:55,718 log Forbidden: /api/analytics/
WARNING 2025-03-15 12:50:02,344 log Forbidden: /api/users/2609/
WARNING 2025-03-15 12:50:03,496 log Forbidden: /api/users/2613/
WARNING 2025-03-15 12:50:03,501 log Bad Request: /api/users/register/
WARNING 2025-03-15 12:50:03,503 log Bad Request: /api/users/register/
WARNING 2025-03-15 12:50:03,504 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 12:50:03,504 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 12:50:03,505 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 12:50:03,797 log Unauthorized: /api/users/login/
WARNING 2025-03-15 12:50:04,080 log Unauthorized: /api/users/login/
WARNING 2025-03-15 12:50:04,363 log Unauthorized: /api/users/login/
WARNING 2025-03-15 12:50:04,363 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 12:50:04,364 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 12:56:42,097 log Bad Request: /api/purchases/invoices/create/
WARNING 2025-03-15 12:56:47,896 log Forbidden: /api/analytics/
WARNING 2025-03-15 12:56:55,476 log Forbidden: /api/users/2671/
WARNING 2025-03-15 12:56:56,772 log Forbidden: /api/users/2675/
WARNING 2025-03-15 12:56:56,778 log Bad Request: /api/users/register/
WARNING 2025-03-15 12:56:56,780 log Bad Request: /api/users/register/
WARNING 2025-03-15 12:56:56,781 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 12:56:56,782 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 12:56:56,783 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 12:56:57,102 log Unauthorized: /api/users/login/
WARNING 2025-03-15 12:56:57,413 log Unauthorized: /api/users/login/
WARNING 2025-03-15 12:56:57,724 log Unauthorized: /api/users/login/
WARNING 2025-03-15 12:56:57,725 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 12:56:57,726 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 13:00:24,077 log Bad Request: /api/purchases/invoices/create/
WARNING 2025-03-15 13:00:29,527 log Forbidden: /api/analytics/
WARNING 2025-03-15 13:00:36,895 log Forbidden: /api/users/2733/
WARNING 2025-03-15 13:00:38,278 log Forbidden: /api/users/2737/
WARNING 2025-03-15 13:00:38,283 log Bad Request: /api/users/register/
WARNING 2025-03-15 13:00:38,287 log Bad Request: /api/users/register/
WARNING 2025-03-15 13:00:38,288 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 13:00:38,288 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 13:00:38,289 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 13:00:38,633 log Unauthorized: /api/users/login/
WARNING 2025-03-15 13:00:38,963 log Unauthorized: /api/users/login/
WARNING 2025-03-15 13:00:39,296 log Unauthorized: /api/users/login/
WARNING 2025-03-15 13:00:39,297 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 13:00:39,298 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 13:08:44,874 log Forbidden: /api/analytics/
WARNING 2025-03-15 13:08:52,550 log Forbidden: /api/users/2795/
WARNING 2025-03-15 13:08:53,881 log Forbidden: /api/users/2799/
WARNING 2025-03-15 13:08:53,888 log Bad Request: /api/users/register/
WARNING 2025-03-15 13:08:53,890 log Bad Request: /api/users/register/
WARNING 2025-03-15 13:08:53,891 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 13:08:53,892 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 13:08:53,893 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 13:08:54,224 log Unauthorized: /api/users/login/
WARNING 2025-03-15 13:08:54,543 log Unauthorized: /api/users/login/
WARNING 2025-03-15 13:08:54,872 log Unauthorized: /api/users/login/
WARNING 2025-03-15 13:08:54,873 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 13:08:54,874 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 14:01:59,347 log Unauthorized: /api/users/me/
WARNING 2025-03-15 14:01:59,348 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-15 14:01:59,352 log Unauthorized: /api/users/me/
WARNING 2025-03-15 14:01:59,353 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-15 14:02:09,793 log Unauthorized: /api/users/login/
WARNING 2025-03-15 14:02:09,794 basehttp "POST /api/users/login/ HTTP/1.1" 401 63
WARNING 2025-03-15 14:02:17,307 log Unauthorized: /api/users/login/
WARNING 2025-03-15 14:02:17,308 basehttp "POST /api/users/login/ HTTP/1.1" 401 63
WARNING 2025-03-15 14:02:34,100 log Unauthorized: /api/users/login/
WARNING 2025-03-15 14:02:34,101 basehttp "POST /api/users/login/ HTTP/1.1" 401 63
WARNING 2025-03-15 14:02:41,612 log Not Found: /favicon.ico
WARNING 2025-03-15 14:02:41,614 basehttp "GET /favicon.ico HTTP/1.1" 404 3840
WARNING 2025-03-15 14:06:25,293 log Unauthorized: /api/users/login/
WARNING 2025-03-15 14:06:25,294 basehttp "POST /api/users/login/ HTTP/1.1" 401 63
WARNING 2025-03-15 14:54:28,736 log Forbidden: /api/analytics/
WARNING 2025-03-15 14:54:35,452 log Forbidden: /api/users/2858/
WARNING 2025-03-15 14:54:36,629 log Forbidden: /api/users/2862/
WARNING 2025-03-15 14:54:36,636 log Bad Request: /api/users/register/
WARNING 2025-03-15 14:54:36,638 log Bad Request: /api/users/register/
WARNING 2025-03-15 14:54:36,639 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 14:54:36,640 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 14:54:36,641 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 14:54:36,949 log Unauthorized: /api/users/login/
WARNING 2025-03-15 14:54:37,256 log Unauthorized: /api/users/login/
WARNING 2025-03-15 14:54:37,558 log Unauthorized: /api/users/login/
WARNING 2025-03-15 14:54:37,558 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 14:54:37,559 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 14:59:35,647 log Forbidden: /api/analytics/
WARNING 2025-03-15 14:59:42,614 log Forbidden: /api/users/2921/
WARNING 2025-03-15 14:59:43,837 log Forbidden: /api/users/2925/
WARNING 2025-03-15 14:59:43,843 log Bad Request: /api/users/register/
WARNING 2025-03-15 14:59:43,845 log Bad Request: /api/users/register/
WARNING 2025-03-15 14:59:43,847 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 14:59:43,848 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 14:59:43,849 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 14:59:44,171 log Unauthorized: /api/users/login/
WARNING 2025-03-15 14:59:44,488 log Unauthorized: /api/users/login/
WARNING 2025-03-15 14:59:44,820 log Unauthorized: /api/users/login/
WARNING 2025-03-15 14:59:44,821 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 14:59:44,822 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 15:51:23,009 log Forbidden: /api/analytics/
WARNING 2025-03-15 15:51:29,880 log Forbidden: /api/users/2984/
WARNING 2025-03-15 15:51:31,125 log Forbidden: /api/users/2988/
WARNING 2025-03-15 15:51:31,129 log Bad Request: /api/users/register/
WARNING 2025-03-15 15:51:31,131 log Bad Request: /api/users/register/
WARNING 2025-03-15 15:51:31,131 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 15:51:31,132 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 15:51:31,133 log Too Many Requests: /api/users/register/
WARNING 2025-03-15 15:51:31,443 log Unauthorized: /api/users/login/
WARNING 2025-03-15 15:51:31,736 log Unauthorized: /api/users/login/
WARNING 2025-03-15 15:51:32,036 log Unauthorized: /api/users/login/
WARNING 2025-03-15 15:51:32,037 log Too Many Requests: /api/users/login/
WARNING 2025-03-15 15:51:32,037 log Too Many Requests: /api/users/login/
ERROR 2025-03-15 15:59:58,064 log Internal Server Error: /api/users/register/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: :   "users_customuser"  
LINE 1: SELECT 1 AS "a" FROM "users_customuser" WHERE "users_customu...
                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\users\views.py", line 61, in create
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 499, in to_internal_value
    validated_value = field.run_validation(primitive_value)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\fields.py", line 757, in run_validation
    return super().run_validation(data)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\fields.py", line 539, in run_validation
    self.run_validators(value)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\fields.py", line 551, in run_validators
    validator(value, self)
    ~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\validators.py", line 73, in __call__
    if qs_exists(queryset):
       ~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\validators.py", line 21, in qs_exists
    return queryset.exists()
           ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1288, in exists
    return self.query.has_results(using=self.db)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\query.py", line 660, in has_results
    return compiler.has_results()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1542, in has_results
    return bool(self.execute_sql(SINGLE))
                ~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: :   "users_customuser"  
LINE 1: SELECT 1 AS "a" FROM "users_customuser" WHERE "users_customu...
                             ^

ERROR 2025-03-15 15:59:58,285 log Internal Server Error: /api/users/login/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: :   "users_customuser"  
LINE 1: ...."role", "users_customuser"."sales_point_id" FROM "users_cus...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\users\views.py", line 131, in post
    response = super().post(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework_simplejwt\views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 445, in run_validation
    value = self.validate(value)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework_simplejwt\serializers.py", line 73, in validate
    data = super().validate(attrs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework_simplejwt\serializers.py", line 54, in validate
    self.user = authenticate(**authenticate_kwargs)
                ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\debug.py", line 75, in sensitive_variables_wrapper
    return func(*func_args, **func_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\auth\__init__.py", line 79, in authenticate
    user = backend.authenticate(request, **credentials)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\auth\backends.py", line 42, in authenticate
    user = UserModel._default_manager.get_by_natural_key(username)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\auth\base_user.py", line 37, in get_by_natural_key
    return self.get(**{self.model.USERNAME_FIELD: username})
           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 645, in get
    num = len(clone)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: :   "users_customuser"  
LINE 1: ...."role", "users_customuser"."sales_point_id" FROM "users_cus...
                                                             ^

WARNING 2025-03-16 14:22:34,357 log Forbidden: /api/analytics/
WARNING 2025-03-16 14:22:41,045 log Forbidden: /api/users/50/
WARNING 2025-03-16 14:22:42,200 log Forbidden: /api/users/54/
WARNING 2025-03-16 14:22:42,206 log Bad Request: /api/users/register/
WARNING 2025-03-16 14:22:42,209 log Bad Request: /api/users/register/
WARNING 2025-03-16 14:22:42,210 log Too Many Requests: /api/users/register/
WARNING 2025-03-16 14:22:42,211 log Too Many Requests: /api/users/register/
WARNING 2025-03-16 14:22:42,211 log Too Many Requests: /api/users/register/
WARNING 2025-03-16 14:22:42,496 log Unauthorized: /api/users/login/
WARNING 2025-03-16 14:22:42,780 log Unauthorized: /api/users/login/
WARNING 2025-03-16 14:22:43,066 log Unauthorized: /api/users/login/
WARNING 2025-03-16 14:22:43,067 log Too Many Requests: /api/users/login/
WARNING 2025-03-16 14:22:43,068 log Too Many Requests: /api/users/login/
WARNING 2025-03-16 14:25:13,886 log Not Found: /media/products/temp/8d4990af-9f48-4522-848c-996492f876cc.jpg
WARNING 2025-03-16 14:25:13,888 basehttp "GET /media/products/temp/8d4990af-9f48-4522-848c-996492f876cc.jpg HTTP/1.1" 404 4254
WARNING 2025-03-16 14:25:17,961 log Not Found: /media/products/temp/8d4990af-9f48-4522-848c-996492f876cc.jpg
WARNING 2025-03-16 14:25:17,962 basehttp "GET /media/products/temp/8d4990af-9f48-4522-848c-996492f876cc.jpg HTTP/1.1" 404 4254
WARNING 2025-03-16 14:25:19,471 log Not Found: /media/products/temp/8d4990af-9f48-4522-848c-996492f876cc.jpg
WARNING 2025-03-16 14:25:19,472 basehttp "GET /media/products/temp/8d4990af-9f48-4522-848c-996492f876cc.jpg HTTP/1.1" 404 4254
WARNING 2025-03-16 14:25:34,013 log Not Found: /media/products/temp/8d4990af-9f48-4522-848c-996492f876cc.jpg
WARNING 2025-03-16 14:25:34,014 basehttp "GET /media/products/temp/8d4990af-9f48-4522-848c-996492f876cc.jpg HTTP/1.1" 404 4254
WARNING 2025-03-16 14:25:36,739 log Not Found: /media/products/temp/8d4990af-9f48-4522-848c-996492f876cc.jpg
WARNING 2025-03-16 14:25:36,741 basehttp "GET /media/products/temp/8d4990af-9f48-4522-848c-996492f876cc.jpg HTTP/1.1" 404 4254
ERROR 2025-03-16 14:27:46,037 log Internal Server Error: /admin/purchases/invoice/277/change/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1964, in change_view
    return self.changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1871, in _changeform_view
    self.save_model(request, new_object, form, not add)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1294, in save_model
    obj.save()
    ~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 46, in save
    raise ValidationError({"status": "No se puede modificar una factura procesada."})
django.core.exceptions.ValidationError: {'status': ['No se puede modificar una factura procesada.']}
ERROR 2025-03-16 14:27:46,048 basehttp "POST /admin/purchases/invoice/277/change/ HTTP/1.1" 500 140710
WARNING 2025-03-16 14:56:12,424 log Unauthorized: /api/users/me/
WARNING 2025-03-16 14:56:12,427 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
ERROR 2025-03-16 14:57:02,110 log Internal Server Error: /admin/purchases/invoice/277/delete/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\sites.py", line 241, in inner
    return view(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\utils\decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 2181, in delete_view
    return self._delete_view(request, object_id, extra_context)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 2217, in _delete_view
    self.delete_model(request, obj)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\contrib\admin\options.py", line 1300, in delete_model
    obj.delete()
    ~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 84, in delete
    self.revert_stock()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\purchases\models.py", line 71, in revert_stock
    raise ValidationError(f"No hay suficiente stock para revertir {item.product.name}.")
          ^^^^^^^^^^^^^^^
NameError: name 'ValidationError' is not defined
ERROR 2025-03-16 14:57:02,122 basehttp "POST /admin/purchases/invoice/277/delete/ HTTP/1.1" 500 137428
WARNING 2025-03-16 15:49:39,934 log Unauthorized: /api/users/me/
WARNING 2025-03-16 15:49:39,936 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-16 16:22:33,676 log Unauthorized: /api/analytics/
WARNING 2025-03-16 16:22:33,683 basehttp "GET /api/analytics/?time_filter=month HTTP/1.1" 401 183
WARNING 2025-03-16 16:22:36,510 log Unauthorized: /api/users/me/
WARNING 2025-03-16 16:22:36,511 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-16 16:22:36,516 log Unauthorized: /api/users/me/
WARNING 2025-03-16 16:22:36,517 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-16 16:54:07,054 log Unauthorized: /api/users/me/
WARNING 2025-03-16 16:54:07,063 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-16 16:54:07,077 log Unauthorized: /api/users/me/
WARNING 2025-03-16 16:54:07,081 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
ERROR 2025-03-16 17:12:49,436 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 159524
ERROR 2025-03-16 17:51:50,361 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 149912
ERROR 2025-03-16 17:58:53,422 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 149909
ERROR 2025-03-16 18:00:40,133 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 149978
ERROR 2025-03-16 18:03:58,561 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 149978
ERROR 2025-03-16 18:05:29,848 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 149978
ERROR 2025-03-16 18:06:13,251 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 149978
ERROR 2025-03-16 18:22:09,491 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 149978
ERROR 2025-03-16 18:22:27,636 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 149976
ERROR 2025-03-16 18:31:24,584 basehttp "POST /admin/purchases/invoice/add/ HTTP/1.1" 500 149976
WARNING 2025-03-16 18:36:26,491 log Unauthorized: /api/analytics/
WARNING 2025-03-16 18:36:26,491 basehttp "GET /api/analytics/?time_filter=day HTTP/1.1" 401 183
WARNING 2025-03-16 18:36:29,332 log Unauthorized: /api/analytics/
WARNING 2025-03-16 18:36:29,333 basehttp "GET /api/analytics/?time_filter=month HTTP/1.1" 401 183
WARNING 2025-03-16 18:36:31,826 log Unauthorized: /api/users/me/
WARNING 2025-03-16 18:36:31,827 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-16 18:36:31,828 log Unauthorized: /api/users/me/
WARNING 2025-03-16 18:36:31,829 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-19 18:33:20,454 log Unauthorized: /api/users/me/
WARNING 2025-03-19 18:33:20,456 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-03-27 13:47:06,306 log Not Found: /favicon.ico
WARNING 2025-03-27 13:47:06,307 basehttp "GET /favicon.ico HTTP/1.1" 404 3840
WARNING 2025-03-27 13:49:20,367 log Unauthorized: /api/users/login/
WARNING 2025-03-27 13:49:20,368 basehttp "POST /api/users/login/ HTTP/1.1" 401 63
WARNING 2025-03-27 13:49:33,203 log Unauthorized: /api/users/login/
WARNING 2025-03-27 13:49:33,203 basehttp "POST /api/users/login/ HTTP/1.1" 401 63
WARNING 2025-03-27 18:30:08,609 log Unauthorized: /api/users/me/
WARNING 2025-03-27 18:30:08,612 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-04-02 13:24:52,608 log Unauthorized: /api/users/me/
WARNING 2025-04-02 13:24:52,609 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
ERROR 2025-04-02 13:25:24,562 log Internal Server Error: /api/orders/create/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: :   NULL   "total_price"  "orders_order"   NOT NULL
DETAIL:     (715, pendiente, null, null, 2025-04-02 16:25:24.458953+00).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\orders\views.py", line 68, in create
    order = serializer.save()
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: :   NULL   "total_price"  "orders_order"   NOT NULL
DETAIL:     (715, pendiente, null, null, 2025-04-02 16:25:24.458953+00).

ERROR 2025-04-02 13:25:24,578 basehttp "POST /api/orders/create/ HTTP/1.1" 500 207712
ERROR 2025-04-02 13:25:30,720 log Internal Server Error: /api/orders/create/
Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: :   NULL   "total_price"  "orders_order"   NOT NULL
DETAIL:     (716, pendiente, null, null, 2025-04-02 16:25:30.671222+00).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\orders\views.py", line 68, in create
    order = serializer.save()
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\Ankalin\PycharmProjects\megastation\.venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: :   NULL   "total_price"  "orders_order"   NOT NULL
DETAIL:     (716, pendiente, null, null, 2025-04-02 16:25:30.671222+00).

ERROR 2025-04-02 13:25:30,730 basehttp "POST /api/orders/create/ HTTP/1.1" 500 207712
WARNING 2025-04-02 20:17:28,077 log Unauthorized: /api/orders/create/
WARNING 2025-04-02 20:17:28,080 basehttp "POST /api/orders/create/ HTTP/1.1" 401 183
WARNING 2025-04-02 20:17:37,521 log Unauthorized: /api/users/me/
WARNING 2025-04-02 20:17:37,582 basehttp "GET /api/users/me/ HTTP/1.1" 401 183
WARNING 2025-04-03 17:31:24,394 log Not Found: /favicon.ico
WARNING 2025-04-03 17:31:24,397 basehttp "GET /favicon.ico HTTP/1.1" 404 3840
